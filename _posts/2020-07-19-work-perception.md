---
title: 【工作感悟1】 编程是一次写作
date:  2020-07-19 14:53:14 +0800
category: Essay
tags: ["工作感悟"]
excerpt: 工作感悟：编程如同写作
---



# 工作感悟(1)



**前言**

在本周的工作过程之中，对编程有了一些新的感悟，记录下来，以防遗忘。



## 1. 如何对待编程

编程就是通过编写程序然后编译成机器所能执行的机器指令。作为一个前端工程师，我们编写出来的程序的主要作用就是提供给用户一个优质的人机交互环境。我们需要将数据精准传递，要将内容完美呈现，带给用户极佳的使用体验。

以终为始，在我们决定开始编写程序的时候，我们就必须对我们将要写的每一行代码负责。

在我看来，编程仿佛就是在写一篇作文，我们除了要让机器能够看得懂，最终能运行起来外；还需要要让我们自己能看懂。因此我们写出来的代码需要有脉络，有前因后果，要交代内容主体，也要梳理信息段落。

接下来，我会把我从最近工作中得到的感悟一一道来。



## 2. 编程是一场写作

### 2.1 编程和写作之间的相通之处

从汇编语言到高级语言，语言进步的方向无疑是让开发人员能让他们所写的代码更容易被他人以及他们自己看懂和接受。这和写作文时我们希望把一件事情讲清楚被他人看明白的初衷是不谋而合的。除此之外，编程和写作之间还有着其他的共通之处。

作文描述信息的最小单位是语句。代码的最小执行单位也同样是一条语句。

作文会把多条语句整合成一个段落用来描述一件事。代码也会将多条语句封装成一个函数来处理一件事。



### 2.2 从写作角度谈编程思维

**单一职责原则**

对于一个段落而言，它要讲述的事情越单一越好，如果一会儿讲林黛玉葬花一会儿扯穆桂英挂帅只会让读者怀疑自己是不是拿错剧本了。

我们在封装函数的时候也是如此。在编程的领域中，有一项原则叫做单一职责原则，讲的是一个函数应当只做一件事，保证程序尽可能小的颗粒度。这样做的目的方便我们读写代码，也便于维护。大颗粒度的程序往往意味着出了bug的话需要投入更多的查找精力，或者业务变动的话，造成代码变动困难和增加改动后出bug的风险。



**数据驱动编程**

写作的目的是将信息传递给读者，这里的信息可以是价值观、事实真相或者其他希望他人看到的信息。文章通篇在围绕着想要传递的信息展开。再来看看编程。

对于前端， 它是用户和应用之间的桥梁，用户和应用之间的每一次交互可以看做是一次数据通信。而页面中的视图则是数据的载体或者是辅助信息的载体。数据驱动编程的理解就是：数据是核心，我们编写的程序应当围绕着数据流的状态进行。这里它和写作有一点不同就是，写作信息传递是单向的，从作者到读者。而前端作为桥梁，它要做的不仅是处理用户请求，还要处理服务端响应。而视图则会在数据流动的过程中适当的做出调整和变化，以反映数据的状态和辅助用户继续操作数据。



### 2.3 从写作角度谈编程技巧

**技巧一：列提纲**

在写作之前，作者往往会列出文章的主体内容和结构，这能更好的帮助他们文章创作。

对于编程，我们该如何列提纲呢？

我有以下两种思路：

* 按照视图结构
* 按照信息结构

数据非实体，我们要解读数据必须通过某种拥有实体的媒介，对于前端而言，这种媒介无非就是视图。

而视图可以继续划分成更小的颗粒度，即组件。一个组件便是一个数据通信的载体。

我在本周的工作中尝试了按视图结构来编程的思路，列出的结构大致长下面的模样：

[![Snipaste-2020-07-19-17-19-57.jpg](https://i.postimg.cc/PqQyYzmd/Snipaste-2020-07-19-17-19-57.jpg)](https://postimg.cc/Y4jQwFnP)



这个结构中列出了一个feature中所有的组件组成，和每个组件承载的数据。我们主要关注以下几个问题：

* 某个组件的数据发生变化时，其他组件的数据是否会联动。（即理解数据与数据之间的关系）
* 数据变化时，视图应当如何表现。（即理解数据和视图之间的关系）
* 数据如何被操控。（即理解数据和行为之间的关系）

这种方式是我偏爱的一种列提纲的方式，以组件为切入点，

今后会尝试利用其它结构来辅助编程并做比较。



**技巧二：划分自然段**

数据处理、事件绑定和视图渲染三者相互分离，因为人的关注点总是单一，对于普通人来说，大脑同时只能处理一件事。当我们发现数据出问题的时候，只需要去查看数据处理相关的代码，而不需要被视图渲染相关的代码所干扰。当页面上的视图与预想发生偏差的时候，我们首先去查看视图渲染相关的代码，查看是否拿到的是正确的数据，如果是，再去查看数据处理相关的代码。如果数据和视图的处理杂糅在一起，程序规模大的话就会出现阅读上的困难。

在程序中我们应当刻意将分离后的代码分类放好，例如下面这样：

```js
function main() {
    mount();
	render();
    handleSomeEvent();
}

/**functions****************************************
 * Description: Handle Data
 ***************************************************/
function handleDataA() {/* doSomething */}
function handleDataB() {/* doSomething */}
// ...

/**functions****************************************
 * Description: Render components
 ***************************************************/
function initComponent1() {/* doSomething */}
function updateComponent1() {/* doSomething */}
// ...
```

这样做便于我们快速找到对应的代码。今后维护起来也十分方便。



好了，主要想记录下来的就这些。Bye~



